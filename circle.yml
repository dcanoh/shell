dependencies:
  pre:
    # install lua interpreter and luarocks
    - sudo apt-get install lua5.1 luarocks
    # install lide using latest rockspeck
    #- sudo luarocks install https://raw.githubusercontent.com/lidesdk/framework/master/lide-0.0-0.rockspec
    # install lide dependencis with luarocks
    #- sudo luarocks install luafilesystem
    - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
    - sudo apt-get update
    - sudo apt-get upgrade
    - sudo apt-get dist-upgrade

test:
  override:
    # executing tests:

    # authorize x64 lua interpreter
    - chmod +x $PWD/bin/linux/x64/lua

    # install latest framework version from master repo:
    - git clone https://github.com/lidesdk/framework.git $PWD/libraries/lide

    # executing the tool
    - sudo apt-get install libstdc++6 && export LIDE_PATH=$PWD && ./lide.sh tests/exec_test.lua